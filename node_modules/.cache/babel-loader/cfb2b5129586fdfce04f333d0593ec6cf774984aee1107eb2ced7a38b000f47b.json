{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useLoader, useFrame, createPortal } from '@react-three/fiber';\nimport { CubeReflectionMapping, EquirectangularReflectionMapping, Scene, WebGLCubeRenderTarget, HalfFloatType, CubeTextureLoader, BackSide } from 'three';\nimport { RGBELoader } from 'three-stdlib';\nimport { presetsObj } from '../helpers/environment-assets.js';\nimport vertexShader from '../helpers/glsl/GroundProjection.vert.glsl.js';\nimport fragmentShader from '../helpers/glsl/GroundProjection.frag.glsl.js';\nimport { Icosahedron } from './shapes.js';\nconst CUBEMAP_ROOT = 'https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/';\nconst isCubeTexture = def => def && def.isCubeTexture;\nconst isRef = obj => obj.current && obj.current.isScene;\nconst resolveScene = scene => isRef(scene) ? scene.current : scene;\nfunction EnvironmentMap(_ref2) {\n  let {\n    scene,\n    background = false,\n    map\n  } = _ref2;\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    if (map) {\n      const target = resolveScene(scene || defaultScene);\n      const oldbg = target.background;\n      const oldenv = target.environment;\n      if (background !== 'only') target.environment = map;\n      if (background) target.background = map;\n      return () => {\n        if (background !== 'only') target.environment = oldenv;\n        if (background) target.background = oldbg;\n      };\n    }\n  }, [defaultScene, scene, map, background]);\n  return null;\n}\nfunction useEnvironment(_ref3) {\n  let {\n    files = ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'],\n    path = '',\n    preset = undefined,\n    extensions\n  } = _ref3;\n  if (preset) {\n    if (!(preset in presetsObj)) throw new Error('Preset must be one of: ' + Object.keys(presetsObj).join(', '));\n    files = presetsObj[preset];\n    path = CUBEMAP_ROOT;\n  }\n  const isCubeMap = Array.isArray(files);\n  const loader = isCubeMap ? CubeTextureLoader : RGBELoader;\n  const loaderResult = useLoader(\n  // @ts-expect-error\n  loader, isCubeMap ? [files] : files, loader => {\n    loader.setPath(path);\n    if (extensions) extensions(loader);\n  });\n  const texture = isCubeMap ?\n  // @ts-ignore\n  loaderResult[0] : loaderResult;\n  texture.mapping = isCubeMap ? CubeReflectionMapping : EquirectangularReflectionMapping;\n  return texture;\n}\nfunction EnvironmentCube(_ref4) {\n  let {\n    background = false,\n    scene,\n    ...rest\n  } = _ref4;\n  const texture = useEnvironment(rest);\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    if (background !== 'only') target.environment = texture;\n    if (background) target.background = texture;\n    return () => {\n      if (background !== 'only') target.environment = oldenv;\n      if (background) target.background = oldbg;\n    };\n  }, [texture, background, scene, defaultScene]);\n  return null;\n}\nfunction EnvironmentPortal(_ref5) {\n  let {\n    children,\n    near = 1,\n    far = 1000,\n    resolution = 256,\n    frames = 1,\n    map,\n    background = false,\n    scene,\n    files,\n    path,\n    preset = undefined,\n    extensions\n  } = _ref5;\n  const gl = useThree(state => state.gl);\n  const defaultScene = useThree(state => state.scene);\n  const camera = React.useRef(null);\n  const [virtualScene] = React.useState(() => new Scene());\n  const fbo = React.useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  React.useLayoutEffect(() => {\n    if (frames === 1) camera.current.update(gl, virtualScene);\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    if (background !== 'only') target.environment = fbo.texture;\n    if (background) target.background = fbo.texture;\n    return () => {\n      if (background !== 'only') target.environment = oldenv;\n      if (background) target.background = oldbg;\n    };\n  }, [children, virtualScene, fbo.texture, scene, defaultScene, background, frames, gl]);\n  let count = 1;\n  useFrame(() => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(gl, virtualScene);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal(/*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo]\n  }), files || preset ? /*#__PURE__*/React.createElement(EnvironmentCube, {\n    background: true,\n    files: files,\n    preset: preset,\n    path: path,\n    extensions: extensions\n  }) : map ? /*#__PURE__*/React.createElement(EnvironmentMap, {\n    background: true,\n    map: map,\n    extensions: extensions\n  }) : null), virtualScene));\n}\nfunction EnvironmentGround(props) {\n  var _props$ground, _props$ground2, _scale, _props$ground3;\n  const textureDefault = useEnvironment(props);\n  const texture = props.map || textureDefault;\n  const isCubeMap = isCubeTexture(texture);\n  const defines = React.useMemo(() => {\n    var _ref, _texture$image$;\n    const w = (_ref = isCubeMap ? (_texture$image$ = texture.image[0]) == null ? void 0 : _texture$image$.width : texture.image.width) !== null && _ref !== void 0 ? _ref : 1024;\n    const cubeSize = w / 4;\n    const _lodMax = Math.floor(Math.log2(cubeSize));\n    const _cubeSize = Math.pow(2, _lodMax);\n    const width = 3 * Math.max(_cubeSize, 16 * 7);\n    const height = 4 * _cubeSize;\n    return [isCubeMap ? `#define ENVMAP_TYPE_CUBE` : '', `#define CUBEUV_TEXEL_WIDTH ${1.0 / width}`, `#define CUBEUV_TEXEL_HEIGHT ${1.0 / height}`, `#define CUBEUV_MAX_MIP ${_lodMax}.0`, ``];\n  }, []);\n  const fragment = React.useMemo(() => defines.join('\\n') + fragmentShader, [defines]);\n  const uniforms = React.useMemo(() => ({\n    cubemap: {\n      value: null\n    },\n    height: {\n      value: 15\n    },\n    radius: {\n      value: 60\n    }\n  }), []);\n  const mat = React.useRef(null);\n  const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n  const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n  const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n  React.useEffect(() => void (height && (mat.current.uniforms.height.value = height)), [height]);\n  React.useEffect(() => void (radius && (mat.current.uniforms.radius.value = radius)), [radius]);\n  React.useEffect(() => void (mat.current.uniforms.cubemap.value = texture), [texture]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnvironmentMap, _extends({}, props, {\n    map: texture\n  })), /*#__PURE__*/React.createElement(Icosahedron, {\n    scale: scale,\n    args: [1, 16]\n  }, /*#__PURE__*/React.createElement(\"shaderMaterial\", {\n    ref: mat,\n    side: BackSide,\n    vertexShader: vertexShader,\n    fragmentShader: fragment,\n    uniforms: uniforms\n  })));\n}\nfunction Environment(props) {\n  return props.ground ? /*#__PURE__*/React.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/React.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/React.createElement(EnvironmentPortal, props) : /*#__PURE__*/React.createElement(EnvironmentCube, props);\n}\nexport { Environment, EnvironmentCube, EnvironmentMap, EnvironmentPortal, useEnvironment };","map":{"version":3,"names":["_extends","React","useThree","useLoader","useFrame","createPortal","CubeReflectionMapping","EquirectangularReflectionMapping","Scene","WebGLCubeRenderTarget","HalfFloatType","CubeTextureLoader","BackSide","RGBELoader","presetsObj","vertexShader","fragmentShader","Icosahedron","CUBEMAP_ROOT","isCubeTexture","def","isRef","obj","current","isScene","resolveScene","scene","EnvironmentMap","_ref2","background","map","defaultScene","state","useLayoutEffect","target","oldbg","oldenv","environment","useEnvironment","_ref3","files","path","preset","undefined","extensions","Error","Object","keys","join","isCubeMap","Array","isArray","loader","loaderResult","setPath","texture","mapping","EnvironmentCube","_ref4","rest","EnvironmentPortal","_ref5","children","near","far","resolution","frames","gl","camera","useRef","virtualScene","useState","fbo","useMemo","type","update","count","Infinity","createElement","Fragment","ref","args","EnvironmentGround","props","_props$ground","_props$ground2","_scale","_props$ground3","textureDefault","defines","_ref","_texture$image$","w","image","width","cubeSize","_lodMax","Math","floor","log2","_cubeSize","pow","max","height","fragment","uniforms","cubemap","value","radius","mat","ground","scale","useEffect","side","Environment"],"sources":["/home/nadaabuissa/Downloads/Computer/node_modules/@react-three/drei/core/Environment.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { useThree, useLoader, useFrame, createPortal } from '@react-three/fiber';\nimport { CubeReflectionMapping, EquirectangularReflectionMapping, Scene, WebGLCubeRenderTarget, HalfFloatType, CubeTextureLoader, BackSide } from 'three';\nimport { RGBELoader } from 'three-stdlib';\nimport { presetsObj } from '../helpers/environment-assets.js';\nimport vertexShader from '../helpers/glsl/GroundProjection.vert.glsl.js';\nimport fragmentShader from '../helpers/glsl/GroundProjection.frag.glsl.js';\nimport { Icosahedron } from './shapes.js';\n\nconst CUBEMAP_ROOT = 'https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/';\n\nconst isCubeTexture = def => def && def.isCubeTexture;\n\nconst isRef = obj => obj.current && obj.current.isScene;\n\nconst resolveScene = scene => isRef(scene) ? scene.current : scene;\n\nfunction EnvironmentMap({\n  scene,\n  background = false,\n  map\n}) {\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    if (map) {\n      const target = resolveScene(scene || defaultScene);\n      const oldbg = target.background;\n      const oldenv = target.environment;\n      if (background !== 'only') target.environment = map;\n      if (background) target.background = map;\n      return () => {\n        if (background !== 'only') target.environment = oldenv;\n        if (background) target.background = oldbg;\n      };\n    }\n  }, [defaultScene, scene, map, background]);\n  return null;\n}\nfunction useEnvironment({\n  files = ['/px.png', '/nx.png', '/py.png', '/ny.png', '/pz.png', '/nz.png'],\n  path = '',\n  preset = undefined,\n  extensions\n}) {\n  if (preset) {\n    if (!(preset in presetsObj)) throw new Error('Preset must be one of: ' + Object.keys(presetsObj).join(', '));\n    files = presetsObj[preset];\n    path = CUBEMAP_ROOT;\n  }\n\n  const isCubeMap = Array.isArray(files);\n  const loader = isCubeMap ? CubeTextureLoader : RGBELoader;\n  const loaderResult = useLoader( // @ts-expect-error\n  loader, isCubeMap ? [files] : files, loader => {\n    loader.setPath(path);\n    if (extensions) extensions(loader);\n  });\n  const texture = isCubeMap ? // @ts-ignore\n  loaderResult[0] : loaderResult;\n  texture.mapping = isCubeMap ? CubeReflectionMapping : EquirectangularReflectionMapping;\n  return texture;\n}\nfunction EnvironmentCube({\n  background = false,\n  scene,\n  ...rest\n}) {\n  const texture = useEnvironment(rest);\n  const defaultScene = useThree(state => state.scene);\n  React.useLayoutEffect(() => {\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    if (background !== 'only') target.environment = texture;\n    if (background) target.background = texture;\n    return () => {\n      if (background !== 'only') target.environment = oldenv;\n      if (background) target.background = oldbg;\n    };\n  }, [texture, background, scene, defaultScene]);\n  return null;\n}\nfunction EnvironmentPortal({\n  children,\n  near = 1,\n  far = 1000,\n  resolution = 256,\n  frames = 1,\n  map,\n  background = false,\n  scene,\n  files,\n  path,\n  preset = undefined,\n  extensions\n}) {\n  const gl = useThree(state => state.gl);\n  const defaultScene = useThree(state => state.scene);\n  const camera = React.useRef(null);\n  const [virtualScene] = React.useState(() => new Scene());\n  const fbo = React.useMemo(() => {\n    const fbo = new WebGLCubeRenderTarget(resolution);\n    fbo.texture.type = HalfFloatType;\n    return fbo;\n  }, [resolution]);\n  React.useLayoutEffect(() => {\n    if (frames === 1) camera.current.update(gl, virtualScene);\n    const target = resolveScene(scene || defaultScene);\n    const oldbg = target.background;\n    const oldenv = target.environment;\n    if (background !== 'only') target.environment = fbo.texture;\n    if (background) target.background = fbo.texture;\n    return () => {\n      if (background !== 'only') target.environment = oldenv;\n      if (background) target.background = oldbg;\n    };\n  }, [children, virtualScene, fbo.texture, scene, defaultScene, background, frames, gl]);\n  let count = 1;\n  useFrame(() => {\n    if (frames === Infinity || count < frames) {\n      camera.current.update(gl, virtualScene);\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal( /*#__PURE__*/React.createElement(React.Fragment, null, children, /*#__PURE__*/React.createElement(\"cubeCamera\", {\n    ref: camera,\n    args: [near, far, fbo]\n  }), files || preset ? /*#__PURE__*/React.createElement(EnvironmentCube, {\n    background: true,\n    files: files,\n    preset: preset,\n    path: path,\n    extensions: extensions\n  }) : map ? /*#__PURE__*/React.createElement(EnvironmentMap, {\n    background: true,\n    map: map,\n    extensions: extensions\n  }) : null), virtualScene));\n}\n\nfunction EnvironmentGround(props) {\n  var _props$ground, _props$ground2, _scale, _props$ground3;\n\n  const textureDefault = useEnvironment(props);\n  const texture = props.map || textureDefault;\n  const isCubeMap = isCubeTexture(texture);\n  const defines = React.useMemo(() => {\n    var _ref, _texture$image$;\n\n    const w = (_ref = isCubeMap ? (_texture$image$ = texture.image[0]) == null ? void 0 : _texture$image$.width : texture.image.width) !== null && _ref !== void 0 ? _ref : 1024;\n    const cubeSize = w / 4;\n\n    const _lodMax = Math.floor(Math.log2(cubeSize));\n\n    const _cubeSize = Math.pow(2, _lodMax);\n\n    const width = 3 * Math.max(_cubeSize, 16 * 7);\n    const height = 4 * _cubeSize;\n    return [isCubeMap ? `#define ENVMAP_TYPE_CUBE` : '', `#define CUBEUV_TEXEL_WIDTH ${1.0 / width}`, `#define CUBEUV_TEXEL_HEIGHT ${1.0 / height}`, `#define CUBEUV_MAX_MIP ${_lodMax}.0`, ``];\n  }, []);\n  const fragment = React.useMemo(() => defines.join('\\n') + fragmentShader, [defines]);\n  const uniforms = React.useMemo(() => ({\n    cubemap: {\n      value: null\n    },\n    height: {\n      value: 15\n    },\n    radius: {\n      value: 60\n    }\n  }), []);\n  const mat = React.useRef(null);\n  const height = (_props$ground = props.ground) == null ? void 0 : _props$ground.height;\n  const radius = (_props$ground2 = props.ground) == null ? void 0 : _props$ground2.radius;\n  const scale = (_scale = (_props$ground3 = props.ground) == null ? void 0 : _props$ground3.scale) !== null && _scale !== void 0 ? _scale : 1000;\n  React.useEffect(() => void (height && (mat.current.uniforms.height.value = height)), [height]);\n  React.useEffect(() => void (radius && (mat.current.uniforms.radius.value = radius)), [radius]);\n  React.useEffect(() => void (mat.current.uniforms.cubemap.value = texture), [texture]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EnvironmentMap, _extends({}, props, {\n    map: texture\n  })), /*#__PURE__*/React.createElement(Icosahedron, {\n    scale: scale,\n    args: [1, 16]\n  }, /*#__PURE__*/React.createElement(\"shaderMaterial\", {\n    ref: mat,\n    side: BackSide,\n    vertexShader: vertexShader,\n    fragmentShader: fragment,\n    uniforms: uniforms\n  })));\n}\n\nfunction Environment(props) {\n  return props.ground ? /*#__PURE__*/React.createElement(EnvironmentGround, props) : props.map ? /*#__PURE__*/React.createElement(EnvironmentMap, props) : props.children ? /*#__PURE__*/React.createElement(EnvironmentPortal, props) : /*#__PURE__*/React.createElement(EnvironmentCube, props);\n}\n\nexport { Environment, EnvironmentCube, EnvironmentMap, EnvironmentPortal, useEnvironment };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}